<!-- ü¶õ –í—Å—è UI-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ ‚Äî –æ–±—ë—Ä–Ω—É—Ç–∞ –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Å—Ç–∏–ª–µ–π -->
<div id="hypo-assistant-core">

    <!-- üîò ToggleButton.ts ‚Äî –ø–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è -->
    <button id="hypo-toggle" aria-label="Open HypoAssistant">ü¶õ</button>

    <!-- üñ•Ô∏è HypoAssistantUI.ts (–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä) ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º/—Å–∫—Ä—ã—Ç–∏–µ–º –ø–∞–Ω–µ–ª–∏ -->
    <div id="hypo-panel" style="display: none;">

        <!-- üí¨ ChatPanel.ts ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (user/assist), –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ —Å–ø–∏—Å–∫–∞ –ø–∞—Ç—á–µ–π -->
        <div class="hypo-header">
            <div class="hypo-title">ü¶õ <span>HypoAssistant v1.1</span></div>
            <!-- üîò ToggleButton.ts (–≤—Ç–æ—Ä–∞—è —Ä–æ–ª—å) ‚Äî –∫–Ω–æ–ø–∫–∞ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è –ø–∞–Ω–µ–ª–∏ -->
            <button id="hypo-collapse" aria-label="Collapse panel">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
            </button>
        </div>

        <!-- üí¨ ChatPanel.ts ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —á–∞—Ç–∞ -->
        <div id="hypo-chat"></div>

        <!-- ‚úçÔ∏è ChatPanel.ts ‚Äî –Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ HypoAssistantUI —á–µ—Ä–µ–∑ sendBtn.onclick -->
        <div class="hypo-input-area">
            <input type="text" id="hypo-input-field" placeholder="Describe change..." />
            <button id="hypo-send" aria-label="Send">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="22" y1="2" x2="11" y2="13"/>
                    <polygon points="22 2 15 22 11 13 2 9 22 2"/>
                </svg>
            </button>
            <template id="hypo-cancel-icon-template">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </template>
        </div>

        <!-- üõ†Ô∏è HypoAssistantUI.ts ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
        <div class="hypo-actions-grid">
            <button id="hypo-export">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="7 10 12 15 17 10"></polyline>
                    <line x1="12" y1="15" x2="12" y2="3"></line>
                </svg>
                Export
            </button>
            <button id="hypo-patch-manager">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="2" y="7.5" width="20" height="9" rx="3" transform="rotate(45 12 12)" />
                    <rect x="2" y="7.5" width="20" height="9" rx="3" transform="rotate(-45 12 12)" />
                </svg>
                Patches
            </button>
            <button id="hypo-settings">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09a1.65 1.65 0 0 0-1.51-1.65 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09a1.65 1.65 0 0 0 1.51-1.65 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                </svg>
                Settings
            </button>
            <button id="hypo-reload">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="23 4 23 10 17 10"></polyline>
                    <polyline points="1 20 1 14 7 14"></polyline>
                    <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                </svg>
                Reload
            </button>
        </div>

    </div> <!-- /#hypo-panel -->


    <!-- üß© PatchListView.ts ‚Äî —à–∞–±–ª–æ–Ω –≤–∏–¥–∂–µ—Ç–∞ –ø–∞—Ç—á–µ–π -->
    <template id="hypo-patch-widget-template">
        <div class="ha-widget">
            <div class="ha-widget-header">üß© Active patches</div>
            <div class="hypo-patch-list"></div>
            <p class="hypo-patch-empty ha-hint" style="display: none;">
                No patches yet.
            </p>
            <button class="ha-btn ha-btn--primary ha-btn--full hypo-patch-save-btn">
                ‚úÖ Save & Freeze
            </button>
        </div>
    </template>

    <!-- üì¶ PatchListView.ts ‚Äî —à–∞–±–ª–æ–Ω –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ –ø–∞—Ç—á–∞ -->
    <template id="hypo-patch-item-template">
        <div class="hypo-patch-item">
            <label>
                <input type="checkbox" />
                <span></span>
            </label>
            <small></small>
        </div>
    </template>

    <!-- üïí ProgressView.ts ‚Äî —à–∞–±–ª–æ–Ω –≤–∏–¥–∂–µ—Ç–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ -->
    <template id="hypo-progress-widget-template">
        <div class="ha-widget">
            <div class="ha-widget-header">üïí In progress</div>
            <div class="progress-tree-lines"></div>
        </div>
    </template>

    <!-- üïí ProgressView.ts ‚Äî —Å—Ç—Ä–æ–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ -->
    <template id="hypo-progress-line-template">
        <div class="progress-line">
            <span class="tree-skeleton"></span>
            <span class="action-text"></span>
            <span class="action-timer"></span>
        </div>
    </template>

    <!-- ‚öôÔ∏è ConfigView.ts ‚Äî —à–∞–±–ª–æ–Ω –≤–∏–¥–∂–µ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <template id="hypo-config-widget-template">
        <div class="ha-widget">
            <div class="ha-widget-header">‚öôÔ∏è LLM Settings</div>
            <div class="ha-input-group">
                <input class="ha-input" type="text" name="apiEndpoint" placeholder=" " />
                <label class="ha-input-label">API Endpoint</label>
            </div>
            <div class="ha-input-group">
                <input class="ha-input" type="password" name="apiKey" autocomplete="off" placeholder=" " />
                <label class="ha-input-label">API Key</label>
            </div>
            <div class="ha-input-group">
                <input class="ha-input" type="text" name="model" placeholder=" " />
                <label class="ha-input-label">Model</label>
            </div>
            <button class="ha-btn ha-btn--primary ha-btn--full hypo-config-save-btn">
                ‚úÖ Save
            </button>
            <p class="ha-hint">Changes take effect immediately. API key is stored only in your browser.</p>
        </div>
    </template>

</div>